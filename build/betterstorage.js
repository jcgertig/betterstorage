var BetterStorage=function(){"use strict";function t(t,e,r){var n=r.configurable,i=r.enumerable,o=r.initializer,u=r.value;return{configurable:n,enumerable:i,get:function(){if(this!==t){var r=o?o.call(this):u;return E(this,e,{configurable:n,enumerable:i,writable:!0,value:r}),r}},set:l(e)}}function e(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return s(t,r)}function r(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,r,n,i){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(t,e,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function u(t){if(!t||!t.hasOwnProperty)return!1;for(var e=["value","initializer","get","set"],r=0,n=e.length;r<n;r++)if(t.hasOwnProperty(e[r]))return!0;return!1}function s(t,e){return u(e[e.length-1])?t.apply(void 0,o(e).concat([[]])):function(){return t.apply(void 0,o(Array.prototype.slice.call(arguments)).concat([e]))}}function a(t){var e={};return L(t).forEach(function(r){return e[r]=j(t,r)}),e}function l(t){return function(e){return Object.defineProperty(this,t,{configurable:!0,writable:!0,enumerable:!0,value:e}),e}}function c(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function y(t,e){if("undefined"==typeof WeakMap)throw new Error("Using @autobind on "+e.name+"() requires WeakMap support due to its use of super."+e.name+"()\n      See https://github.com/jayphelps/core-decorators.js/issues/20");G||(G=new WeakMap),!1===G.has(t)&&G.set(t,new WeakMap);var r=G.get(t);return!1===r.has(e)&&r.set(e,c(e,t)),r.get(e)}function p(t){for(var e=a(t.prototype),r=L(e),n=0,i=r.length;n<i;n++){var o=r[n],u=e[o];"function"==typeof u.value&&"constructor"!==o&&N(t.prototype,o,v(t.prototype,o,u))}}function v(t,e,r){var n=r.value,i=r.configurable,o=r.enumerable;if("function"!=typeof n)throw new SyntaxError("@autobind can only be used on functions, not: "+n);var u=t.constructor;return{configurable:i,enumerable:o,get:function(){if(this===t)return n;if(this.constructor!==u&&q(this).constructor===u)return n;if(this.constructor!==u&&e in this.constructor.prototype)return y(this,n);var r=c(n,this);return N(this,e,{configurable:!0,writable:!0,enumerable:!1,value:r}),r},set:l(e)}}function d(t){return 1===t.length?p.apply(void 0,h(t)):v.apply(void 0,h(t))}function g(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function m(t){return Array.isArray(t)?t:Array.from(t)}function b(t,e,r,n){var i=m(n),o=i[0],u=i.slice(1),s=r.configurable,a=r.enumerable,c=r.writable,f=r.get,h=r.set,y=r.value,p=!!f;return{configurable:s,enumerable:a,get:function(){var t=p?f.call(this):y,r=o.call.apply(o,[this,t].concat(g(u)));if(p)return r;var n={configurable:s,enumerable:a};return n.value=r,n.writable=c,H(this,e,n),r},set:p?h:l()}}function k(){return this.list=[],this.lastItem=void 0,this.size=0,this}function w(t,e){var r,n,i,o=t.length,u=e.length;for(n=0;n<o;n++){for(r=!0,i=0;i<u;i++)if(!I(t[n][i].arg,e[i].arg)){r=!1;break}if(r)break}t.push(t.splice(n,1)[0])}function S(t){var e,r,n=t.length,i=t[n-1];for(i.cacheItem.delete(i.arg),r=n-2;r>=0&&(i=t[r],!(e=i.cacheItem.get(i.arg))||!e.size);r--)i.cacheItem.delete(i.arg)}function I(t,e){return t===e||t!==t&&e!==e}var _,O,A,x,z,K,E=Object.defineProperty,P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,T=Object.getOwnPropertySymbols,L=(_=function t(){n(this,t),r(this,"debounceTimeoutIds",O,this),r(this,"throttleTimeoutIds",A,this),r(this,"throttlePreviousTimestamps",x,this),r(this,"throttleTrailingArgs",z,this),r(this,"profileLastRan",K,this)},O=i(_.prototype,"debounceTimeoutIds",[e],{enumerable:!0,initializer:function(){return{}}}),A=i(_.prototype,"throttleTimeoutIds",[e],{enumerable:!0,initializer:function(){return{}}}),x=i(_.prototype,"throttlePreviousTimestamps",[e],{enumerable:!0,initializer:function(){return{}}}),z=i(_.prototype,"throttleTrailingArgs",[e],{enumerable:!0,initializer:function(){return null}}),K=i(_.prototype,"profileLastRan",[e],{enumerable:!0,initializer:function(){return null}}),T?function(t){return F(t).concat(T(t))}:F),M="object"===("undefined"==typeof console?"undefined":P(console))&&console&&"function"==typeof console.warn?c(console.warn,console):function(){},R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),D=/^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/,N=(function(){function t(e,r,n,i){f(this,t),this.parentKlass=e,this.childKlass=r,this.parentDescriptor=n,this.childDescriptor=i}C(t,[{key:"_getTopic",value:function(t){return void 0===t?null:"value"in t?t.value:"get"in t?t.get:"set"in t?t.set:void 0}},{key:"_extractTopicSignature",value:function(t){switch(void 0===t?"undefined":R(t)){case"function":return this._extractFunctionSignature(t);default:return this.key}}},{key:"_extractFunctionSignature",value:function(t){var e=this;return t.toString().replace(D,function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key)+arguments[2]})}},{key:"key",get:function(){return this.childDescriptor.key}},{key:"parentNotation",get:function(){return this.parentKlass.constructor.name+"#"+this.parentPropertySignature}},{key:"childNotation",get:function(){return this.childKlass.constructor.name+"#"+this.childPropertySignature}},{key:"parentTopic",get:function(){return this._getTopic(this.parentDescriptor)}},{key:"childTopic",get:function(){return this._getTopic(this.childDescriptor)}},{key:"parentPropertySignature",get:function(){return this._extractTopicSignature(this.parentTopic)}},{key:"childPropertySignature",get:function(){return this._extractTopicSignature(this.childTopic)}}]),C(t,[{key:"assert",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!0!==t&&this.error("{child} does not properly override {parent}"+e)}},{key:"error",value:function(t){var e=this;throw t=t.replace("{parent}",function(t){return e.parentNotation}).replace("{child}",function(t){return e.childNotation}),new SyntaxError(t)}}])}(),Object.defineProperty),q=Object.getPrototypeOf,G=void 0,H=Object.defineProperty,W={};console.time&&console.time.bind(console),console.timeEnd&&console.timeEnd.bind(console),console.profile&&c(console.profile,console),console.profileEnd&&c(console.profileEnd,console);k.prototype.get=function(t){var e;return this.lastItem&&this.isEqual(this.lastItem.key,t)?this.lastItem.val:(e=this.indexOf(t))>=0?(this.lastItem=this.list[e],this.list[e].val):void 0},k.prototype.set=function(t,e){var r;return this.lastItem&&this.isEqual(this.lastItem.key,t)?(this.lastItem.val=e,this):(r=this.indexOf(t))>=0?(this.lastItem=this.list[r],this.list[r].val=e,this):(this.lastItem={key:t,val:e},this.list.push(this.lastItem),this.size++,this)},k.prototype.delete=function(t){var e;if(this.lastItem&&this.isEqual(this.lastItem.key,t)&&(this.lastItem=void 0),(e=this.indexOf(t))>=0)return this.size--,this.list.splice(e,1)[0]},k.prototype.has=function(t){var e;return!(!this.lastItem||!this.isEqual(this.lastItem.key,t))||(e=this.indexOf(t))>=0&&(this.lastItem=this.list[e],!0)},k.prototype.forEach=function(t,e){var r;for(r=0;r<this.size;r++)t.call(e||this,this.list[r].val,this.list[r].key,this)},k.prototype.indexOf=function(t){var e;for(e=0;e<this.size;e++)if(this.isEqual(this.list[e].key,t))return e;return-1},k.prototype.isEqual=function(t,e){return t===e||t!==t&&e!==e};var $,J,Z,B=k,U=function(t){return"function"!=typeof Map||t?new B:new Map},Q=(function(){function t(t){this.value=t}function e(e){function r(i,o){try{var u=e[i](o),s=u.value;s instanceof t?Promise.resolve(s.value).then(function(t){r("next",t)},function(t){r("throw",t)}):n(u.done?"return":"normal",u.value)}catch(t){n("throw",t)}}function n(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1})}(i=i.next)?r(i.key,i.arg):o=null}var i,o;this._invoke=function(t,e){return new Promise(function(n,u){var s={key:t,arg:e,resolve:n,reject:u,next:null};o?o=o.next=s:(i=o=s,r(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),V=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();return $=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return s(b,e)}(function(t){var e=new U("true"==="{}".FORCE_SIMILAR_INSTEAD_OF_MAP),r=[];return function(n){var i=function(){var o,u,s,a=e,l=arguments.length-1,c=Array(l+1),f=!0;if((i.numArgs||0===i.numArgs)&&i.numArgs!==l+1)throw new Error("Memoizerific functions should always be called with the same number of arguments");for(s=0;s<l;s++)c[s]={cacheItem:a,arg:arguments[s]},a.has(arguments[s])?a=a.get(arguments[s]):(f=!1,o=new U("true"==="{}".FORCE_SIMILAR_INSTEAD_OF_MAP),a.set(arguments[s],o),a=o);return f&&(a.has(arguments[l])?u=a.get(arguments[l]):f=!1),f||(u=n.apply(null,arguments),a.set(arguments[l],u)),t>0&&(c[l]={cacheItem:a,arg:arguments[l]},f?w(r,c):r.push(c),r.length>t&&S(r.shift())),i.wasMemoized=f,i.numArgs=l+1,u};return i.limit=t,i.wasMemoized=!1,i.cache=e,i.lru=r,i}}(200)),function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return 0===e.length?function(){return d(arguments)}:d(e)}((Z=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Q(this,t),this.prefix=e,this.kind=r,this.store="string"==typeof r?window[r+"Storage"]:r,this.methods=Object.assign({doSet:this._doSet,doGet:this._doGet,doRemove:this._doRemove,doClear:this._doClear,doLength:this._doLength,doFullLength:this._doFullLength,doKey:this._doKey,doFullKey:this._doFullKey,doHas:this._doHas},n)}return V(t,[{key:"_doSet",value:function(t,e){return this.store.setItem(t,JSON.stringify({value:e}))}},{key:"_doGet",value:function(t){try{return JSON.parse(this.store.getItem(t)).value}catch(e){return this.store.getItem(t)}}},{key:"_doRemove",value:function(t){return this.store.removeItem(t)}},{key:"_doClear",value:function(){return this.store.clear()}},{key:"_doLength",value:function(){return this.keys.length}},{key:"_doFullLength",value:function(){return this.store.length}},{key:"_doKey",value:function(t){return this.keys[t]}},{key:"_doFullKey",value:function(t){return this.store.key(t)}},{key:"_doHas",value:function(t){return this.fullKeys.indexOf(t)>-1}},{key:"getStoreKey",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.prefix;return""===e?t:e+"-"+t}},{key:"setPrefix",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&""!==this.prefix&&this.keys.length>0&&this.keys.forEach(function(r){var n=t.store.getItem(t.getStoreKey(r));t.store.removeItem(t.getStoreKey(r)),t.store.setItem(t.getStoreKey(r,e),n)}),this.prefix=e}},{key:"setKind",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="string"==typeof t?window[t+"Storage"]:t;r&&""!==this.prefix&&this.keys.length>0&&this.keys.forEach(function(t){var r=e.store.getItem(e.getStoreKey(t));e.store.removeItem(e.getStoreKey(t)),n.setItem(e.getStoreKey(t),r)}),this.kind=t,this.store=n}},{key:"set",value:function(t,e){return this.methods.doSet(this.getStoreKey(t),e)}},{key:"get",value:function(t){return this.methods.doGet(this.getStoreKey(t))}},{key:"remove",value:function(t){return this.methods.doRemove(this.getStoreKey(t))}},{key:"has",value:function(t){return this.methods.doHas(this.getStoreKey(t))}},{key:"clear",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];""===this.prefix||e?this.methods.doClear():this.keys.forEach(function(e){t.methods.doRemove(t.getStoreKey(e))})}},{key:"getLength",value:function(){return this.methods.doLength()}},{key:"getFullLength",value:function(){return this.methods.doFullLength()}},{key:"key",value:function(t){return this.methods.doKey(t)}},{key:"fullKey",value:function(t){return this.methods.doFullKey(t)}},{key:"keys",get:function(){var t=this;return""===this.prefix?this.fullKeys:Object.keys(this.store).filter(function(e){return 0===e.indexOf(t.prefix+"-")}).map(function(e){return e.replace(t.prefix+"-","")})}},{key:"fullKeys",get:function(){return Object.keys(this.store)}}]),t}(),function(t,e,r,n,i){var o={};Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(t,e,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null)}(Z.prototype,"getStoreKey",[$],Object.getOwnPropertyDescriptor(Z.prototype,"getStoreKey"),Z.prototype),J=Z))||J}();
//# sourceMappingURL=betterstorage.js.map
